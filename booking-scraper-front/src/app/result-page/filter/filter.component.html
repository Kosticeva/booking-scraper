<form class="container-fluid card-header">
  <div class="row">
    <div class="col-12 input-group">
      <input class="form-control form-control-sm" type="text" placeholder="Destination..." name="destination" [(ngModel)]="searchQuery.location"/>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col-12 form-group">
      <label class="form-control-label" for="check-in">Check In Date</label>
      <input type="text" id="check-in" name="check-in"
            class="form-control form-control-sm"
            [minDate]="now"
            [maxDate]="maxDate"
            #dp="bsDatepicker"
            bsDatepicker [(bsValue)]="searchQuery.dates.checkInDate">
    </div>
    <div class="col-12 form-group">
        <label class="form-control-label form-label-sm" for="check-out">Check Out Date</label>
        <input type="text" id="check-out" name="check-out"
              class="form-control form-control-sm"
              [minDate]="now"
              [maxDate]="maxDate"
              #dp="bsDatepicker"
              bsDatepicker [(bsValue)]="searchQuery.dates.checkOutDate">
    </div>
  </div>
  <div class="row">
    <div class="col-12" *ngFor="let room of searchQuery.rooms; let i=index">
      <div class="card">
        <div class="card-title d-flex justify-content-between">
          <h6>Room {{i+1}}</h6>
          <a href="javascript:void(0)"(click)="deleteRoom(room)">X</a>
        </div>
        <div class="card-body">
          <span class="d-flex justify-content-between">
              <span class="w-75">Adults</span>
              <select name="{{getName(i+1, 0)}}" [(ngModel)]="room.adultsInRoom">
                <option *ngFor="let adult of adults" [ngValue]="adult">{{adult}}</option>
              </select>
          </span>
          <div *ngFor="let child of room.childrenInRoom;let j=index">
            <span>Child {{j+1}}</span>
            <select name="{{getName(i+1,j+1)}}" [(ngModel)]="room.childrenInRoom[j]">
              <option *ngFor="let year of years" [ngValue]="year">{{year}}</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="form-group row">
      <h4 class="col-12">
        <a href="javascript:void(0)" (click)="newRoom()" class="col-12">
          <span class="font-weight-bold">+</span>&nbsp;Add a room</a>
      </h4>
  </div>
  <hr />
  <h4>Filters</h4>
  <div>
    <a href="javascript:void(0)" (click)="priceCollapsed = !priceCollapsed" [attr.aria-expanded]="!priceCollapsed" aria-controls="price-filters">Price</a>
    <div class="from-group" id="price-filters" [collapse]="priceCollapsed">
      <div class="form-check" *ngFor="let filter of this.filters[0]">
        <label class="form-check-label" for="{{filter.name}}">{{filter.value}}</label>
        <input type="checkbox" name="{{filter.name}}" value="{{filter.name}}" id="{{filter.name}}" [(ngModel)]="filter.checked"/>
      </div>
    </div>
  </div>
  <div>      
    <a href="javascript:void(0)" (click)="ratingCollapsed = !ratingCollapsed" [attr.aria-expanded]="!ratingCollapsed" aria-controls="rating-filters">Rating</a>
    <div class="from-group" id="rating-filters" [collapse]="ratingCollapsed">
        <div class="form-check" *ngFor="let filter of this.filters[1]">
          <label class="form-check-label" for="{{filter.name}}">{{filter.value}}</label>
          <input type="checkbox" name="{{filter.name}}" value="{{filter.name}}" id="{{filter.name}}" [(ngModel)]="filter.checked"/>
        </div>
    </div>  
  </div>  
  <div> 
    <a href="javascript:void(0)" (click)="categoryCollapsed = !categoryCollapsed" [attr.aria-expanded]="!categoryCollapsed" aria-controls="cat-filters">Category</a>
    <div class="from-group" id="cat-filters" [collapse]="categoryCollapsed">
      <div class="form-check" *ngFor="let filter of this.filters[2]">
        <label class="form-check-label" for="{{filter.name}}">{{filter.value}}</label>
        <input type="checkbox" name="{{filter.name}}" value="{{filter.name}}" id="{{filter.name}}" [(ngModel)]="filter.checked"/>
      </div>
    </div> 
  </div>     
  <div>
    <a href="javascript:void(0)" (click)="typeCollapsed = !typeCollapsed" [attr.aria-expanded]="!typeCollapsed" aria-controls="type-filters">Type</a>
    <div class="from-group" id="type-filters" [collapse]="typeCollapsed">
      <div class="form-check" *ngFor="let filter of this.filters[3]">
        <label class="form-check-label" for="{{filter.name}}">{{filter.value}}</label>
        <input type="checkbox" name="{{filter.name}}" value="{{filter.name}}" id="{{filter.name}}" [(ngModel)]="filter.checked"/>
      </div>
    </div>  
  </div>
  <div>    
    <a href="javascript:void(0)" (click)="paymentCollapsed = !paymentCollapsed" [attr.aria-expanded]="!paymentCollapsed" aria-controls="payment-filters">Payment</a>
    <div class="from-group" id="payment-filters" [collapse]="paymentCollapsed">
      <div class="form-check" *ngFor="let filter of this.filters[4]">
        <label class="form-check-label" for="{{filter.name}}">{{filter.value}}</label>
        <input type="checkbox" name="{{filter.name}}" value="{{filter.name}}" id="{{filter.name}}" [(ngModel)]="filter.checked"/>
      </div>
    </div>
  </div>
  <div>     
    <a href="javascript:void(0)" (click)="amenityCollapsed = !amenityCollapsed" [attr.aria-expanded]="!amenityCollapsed" aria-controls="amenity-filters">Amenity</a>
    <div class="from-group" id="amenity-filters" [collapse]="amenityCollapsed">
      <div class="form-check" *ngFor="let filter of this.filters[5]">
        <label class="form-check-label" for="{{filter.name}}">{{filter.value}}</label>
        <input type="checkbox" name="{{filter.name}}" value="{{filter.name}}" id="{{filter.name}}" [(ngModel)]="filter.checked"/>
      </div>
    </div>
  </div>
</form>
  
